// 2,3,7 example
// claimed endomorphism algebra: CM field 8.0.7834003547041.1
AttachSpec("~/github/CHIMP/CHIMP.spec");
AttachSpec("~/github/Genus-4/magma/spec");
load "Shimura/Shimura_models.m";
QQ := RationalsExtra(1000);
R<x> := PolynomialRing(QQ);
K<mu> := NumberFieldExtra(x^3 - x^2 - 2*x + 1);
t := 1/601617706932059*(350588211676416*mu^2 - 1415944436534208*mu + 1160374047771995);
f := GetShimuraCurve237(t);
X := HyperellipticCurve(f);
HeuristicEndomorphismDescription(X);


// to send
AttachSpec("~/github/CHIMP/CHIMP.spec");
QQ := RationalsExtra(1000);
R0<t> := PolynomialRing(QQ);
K<mu> := NumberFieldExtra(t^3 - t^2 - 2*t + 1);
R<x> := PolynomialRing(K);
f := 1/9625883310912944*(5609411386822656*mu^2 - 22655110984547328*mu + 2322306677186327)*x^10 - 567/64*x^9 + 1/2406470827728236*(-66261172006842624*mu^2 + 267613498504965312*mu - 219310695028907055)*x^8 + 1/1447775461176755326968167917924*(-777194053939504750117806035995392*mu^2 + 1890995121794801671145869539553344*mu - 876645782045536240390974061056645)*x^7 + 1/361943865294188831742041979481*(-414748214762691010862463616525824*mu^2 + 973121682645100372909396389646464*mu - 418896328835570100286899459532725)*x^6 + 1/723887730588377663484083958962*(-414748214762691010862463616525824*mu^2 + 973121682645100372909396389646464*mu - 418896328835570100286899459532725)*x^5 + 1/217751838276415937225703627775714195939081379*(672800666310179556189928998679850853080664787968*mu^2 - 1526117365640407582806158216579614341515061389568*mu + 564042671775972871996543624496911571404685888892)*x^4 + 1/217751838276415937225703627775714195939081379*(865029428113088000815622998302665382532283298816*mu^2 - 1962150898680524035036489135602361296233650358016*mu + 725197720854822263995556088638886306091739000004)*x^3 + 1/131003361624097910687645782812955154673509052734080825029361*(-786428455452167193729987728732383596614717985743145008976039936*mu^2 + 1769672774123062187998821137149428143343132562435288447526759424*mu - 635437204711676647634147301358815875716628444554384179695284828)*x;
X := HyperellipticCurve(f);

/*
In file "/scratch/home/sschiavo/github/CHIMP/endomorphisms/endomorphisms/magma/heuristic/OverField.m", line 49, column 9:
>>         assert test;
*/

// 2,3,9 example
// claimed endomorphism algebra: CM field 8.0.166726039041.1
AttachSpec("~/github/CHIMP/CHIMP.spec");
AttachSpec("~/github/Genus-4/magma/spec");
load "Shimura/Shimura_models.m";
QQ := RationalsExtra(1000);
R<x> := PolynomialRing(QQ);
K<mu> := NumberFieldExtra(x^3 - 3*x - 1);
t := 1/44217*(-9088*mu^2 - 39616*mu + 29433);
Q, E := GetShimuraCurve239(t);
C := Curve(Proj(Parent(Q)), [Q,E]);
HeuristicEndomorphismDescription(C);

// to send
AttachSpec("~/github/CHIMP/CHIMP.spec");
QQ := RationalsExtra(1000);
R0<t> := PolynomialRing(QQ);
K<mu> := NumberFieldExtra(t^3 - 3*t - 1);
R<X,Y,Z,T> := PolynomialRing(K,4);
Q := X*Z - Y^2;
E := 1/86450561966313*(799773290528640*mu^2 + 1107842648107200*mu + 260262581522368)*X^3 + 1/86450561966313*(-1425507123608832*mu^2 - 4908974135108736*mu - 1615643053076096)*X^2*Y + 1/28816853988771*(-453570448420992*mu^2 - 1561946315716416*mu - 514068244160576)*X^2*Z + 1/651714363*(8420362880*mu^2 + 8312191040*mu + 1424614720)*X^2*T + 1/3822584498464461921*(-182703595047592304128*mu^2 - 327605544690213266176*mu - 92516088733978205952)*X*Y*Z + 1/217238121*(3368145152*mu^2 + 3324876416*mu + 569845888)*X*Y*T + 1/3822584498464461921*(9366589020532531328*mu^2 + 10715064984437786432*mu + 2433292053071224896)*X*Z^2 + 1/1274194832821487307*(18733178041065062656*mu^2 + 21430129968875572864*mu + 4866584106142449792)*Y*Z^2 + 1/28816853988771*(-129591556691712*mu^2 - 446270375918976*mu - 146876641188736)*Y*Z*T + 1/56341072922867704253619*(1254610574458037454154880*mu^2 + 2219056311787845220015424*mu + 612011965639242704272960)*Z^3 + 1/9605617996257*(-64795778345856*mu^2 - 223135187959488*mu - 73438320594368)*Z^2*T + 3*T^3;
C := Curve(Proj(R), [Q,E]);
